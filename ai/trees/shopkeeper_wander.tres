[gd_resource type="BehaviorTree" load_steps=18 format=3 uid="uid://cwhlljajvs5w3"]

[ext_resource type="Script" uid="uid://dhgs38nfop4e0" path="res://ai/tasks/select_random_position.gd" id="1_select"]
[ext_resource type="Script" uid="uid://dgfuopq42ml7a" path="res://ai/tasks/move_to_position.gd" id="2_move"]
[ext_resource type="Script" uid="uid://crg3p8dnv1fpg" path="res://ai/tasks/play_idle.gd" id="3_idle"]
[ext_resource type="Script" uid="uid://dbi3mphm2tmb4" path="res://ai/tasks/check_will_chase.gd" id="4_check_chase"]
[ext_resource type="Script" uid="uid://d0kqh6p3jda5t" path="res://ai/tasks/chase_player.gd" id="5_chase"]
[ext_resource type="Script" uid="uid://cf2j51g1pn3jn" path="res://ai/tasks/interruptible_wait.gd" id="6_wait"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_1"]
var/home_position/name = &"home_position"
var/home_position/type = 9
var/home_position/value = Vector3(0, 0, 0)
var/home_position/hint = 0
var/home_position/hint_string = ""
var/wander_target/name = &"wander_target"
var/wander_target/type = 9
var/wander_target/value = Vector3(0, 0, 0)
var/wander_target/hint = 0
var/wander_target/hint_string = ""

[sub_resource type="BTCondition" id="BTCondition_chase"]
script = ExtResource("4_check_chase")

[sub_resource type="BTAction" id="BTAction_chase"]
script = ExtResource("5_chase")

[sub_resource type="BTSequence" id="BTSequence_chase"]
children = [SubResource("BTCondition_chase"), SubResource("BTAction_chase")]

[sub_resource type="BTAction" id="BTAction_select"]
script = ExtResource("1_select")
radius = 6.0

[sub_resource type="BTAction" id="BTAction_move"]
script = ExtResource("2_move")

[sub_resource type="BTAction" id="BTAction_idle"]
script = ExtResource("3_idle")

[sub_resource type="BTAction" id="BTAction_wait"]
script = ExtResource("6_wait")

[sub_resource type="BTSequence" id="BTSequence_wander"]
children = [SubResource("BTAction_select"), SubResource("BTAction_move"), SubResource("BTAction_idle"), SubResource("BTAction_wait")]

[sub_resource type="BTSelector" id="BTSelector_main"]
children = [SubResource("BTSequence_chase"), SubResource("BTSequence_wander")]

[sub_resource type="BTRepeat" id="BTRepeat_root"]
children = [SubResource("BTSelector_main")]
times = 0

[resource]
blackboard_plan = SubResource("BlackboardPlan_1")
root_task = SubResource("BTRepeat_root")
